"use strict";
(function () {
    var e = {
        containerWidth: 0,
        itemLength: 0,
        itemTotalWidth: 0,
        nowItemIndex: 0,
        speed: 5000,
        prevAndNextBtnGroup: false,
        pagination: false,
        renderFlag: false,
        autoTimer: null,
        init: function j() {
            if (typeof swiperConfig !== "undefined") {
                var p = swiperConfig,
                    l = p.width,
                    k = p.height,
                    m = p.speed,
                    n = p.needPrevAndNextBtnGroup,
                    o = p.needPagination;
                $(".swiper-container").css({
                    // width: (+l || 800) + "px",在这里改width
                    width: 80 + "%",
                    height: (+k || 300) + "px"
                });
                this.speed = m || 5000;
                this.prevAndNextBtnGroup = n || false;
                this.pagination = o || false
            }
            this.initSwiperInfo();
            if (this.prevAndNextBtnGroup) {
                this.initPrevAndNextClickFn()
            }
            if (this.pagination) {
                this.initPagination()
            }
            this.autoCarousel()
        },
        initSwiperInfo: function b() {
            var l = $(".swiper-container"),
                o = l.width(),
                k = $(".swiper-item").length,
                p = o * k;
            this.containerWidth = o;
            this.itemLength = k;
            this.itemTotalWidth = p;
            var n = $(".swiper-item");
            for (var m = 0; m < k; m++) {
                n
                    .eq(m)
                    .css("left", o * m)
            }
        },
        initPrevAndNextClickFn: function d() {
            $(".swiper-container").append(
                '\n                <div class="swiper-btn-group">\n                    <div cla' +
                'ss="swiper-btn-group_prev"></div>\n                    <div class="swiper-btn-' +
                'group_next"></div>\n                </div>\n            '
            );
            $(".swiper-btn-group_prev")
                .unbind("click")
                .bind("click", function () {
                    return e.prevItem()
                });
            $(".swiper-btn-group_next")
                .unbind("click")
                .bind("click", function () {
                    return e.nextItem()
                })
        },
        initPagination: function i() {
            var l = this.itemLength;
            $(".swiper-container").append('<div class="swiper-pagination"></div>');
            var m = "";
            for (var k = 0; k < l; k++) {
                m += '<div class="swiper-pagination-item"></div>'
            }
            $(".swiper-pagination").html(m);
            $(".swiper-pagination-item")
                .eq(0)
                .addClass("swiper-pagination-item_active");
            this.paginationFn()
        },
        autoCarousel: function f() {
            var k = this;
            this.autoTimer = setInterval(function () {
                k.nextItem()
            }, this.speed)
        },
        prevItem: function h() {
            var l = this.nowItemIndex,
                m = this.itemLength,
                k = this.renderFlag;
            if (!k) {
                this.renderFlag = true;
                clearInterval(this.autoTimer);
                this.nowItemIndex = !l
                    ? m - 1
                    : --l;
                this.render()
            }
        },
        nextItem: function a() {
            var l = this.nowItemIndex,
                m = this.itemLength,
                k = this.renderFlag;
            if (!k) {
                this.renderFlag = true;
                clearInterval(this.autoTimer);
                this.nowItemIndex = l === m - 1
                    ? 0
                    : ++l;
                this.render()
            }
        },
        paginationFn: function g() {
            var k = this;
            $(".swiper-pagination-item")
                .unbind("click")
                .bind("click", function () {
                    var l = $(this).index();
                    if (!k.renderFlag) {
                        k.renderFlag = true;
                        k.nowItemIndex = l;
                        clearInterval(k.autoTimer);
                        k.render()
                    }
                })
        },
        render: function c() {
            var l = this;
            var m = this.containerWidth,
                k = this.nowItemIndex;
            $(".swiper-wrapper").css("left", -m * k);
            $(".swiper-pagination-item")
                .removeClass("swiper-pagination-item_active")
                .eq(k)
                .addClass("swiper-pagination-item_active");
            setTimeout(function () {
                l.renderFlag = false;
                l.autoCarousel()
            }, 500)
        }
    };
    $(function () {
        return e.init()
    })
})();